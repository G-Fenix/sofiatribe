{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{% block title %}Sofia Tribe{% endblock %}</title>
  <link rel="icon" type="image/png" href="{% static 'images/logo.png' %}">

  <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">
  <link href="{% static 'css/all.min.css' %}" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox/dist/css/glightbox.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <link href="{% static 'css/style.css' %}" rel="stylesheet">
</head>
<body>

<nav class="navbar navbar-expand-lg shadow-sm">
  <div class="container">

    <!-- Logo -->
    <a class="navbar-brand d-flex align-items-center" href="/">
      <img src="{% static 'images/logo.png' %}" alt="Sofia Tribe Logo" height="40" class="me-2">
    </a>

    <!-- Hamburger Men√º -->
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNavbar" aria-controls="mainNavbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Men√º Linkleri -->
    <div class="collapse navbar-collapse justify-content-end" id="mainNavbar">
      <ul class="navbar-nav">

        <!-- Home -->
        <li class="nav-item">
          <a class="nav-link" href="/">
            <i class="fa-solid fa-house me-1 text-primary"></i> Home
          </a>
        </li>

        <!-- Who We Are -->
        <li class="nav-item">
          <a class="nav-link" href="/who-we-are/">
            <i class="fa-solid fa-users me-1 text-warning"></i> Who We Are
          </a>
        </li>

        <!-- Events Dropdown -->
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="eventsDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            <i class="fa-solid fa-calendar-days me-1 text-success"></i> Events
          </a>
          <ul class="dropdown-menu" aria-labelledby="eventsDropdown">
            <li>
              <a class="dropdown-item d-flex align-items-start" href="/events/past-events">
                <i class="fa-solid fa-clock-rotate-left text-primary me-2 mt-1"></i>
                <div>
                  <strong>Past Events</strong><br>
                  <small class="text-muted">See what we‚Äôve done before</small>
                </div>
              </a>
            </li>
            <li>
              <a class="dropdown-item d-flex align-items-start" href="/events/upcoming-events">
                <i class="fa-solid fa-calendar-plus text-success me-2 mt-1"></i>
                <div>
                  <strong>Upcoming Events</strong><br>
                  <small class="text-muted">Don‚Äôt miss what‚Äôs next</small>
                </div>
              </a>
            </li>
          </ul>
        </li>

        <!-- Gallery Dropdown -->
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="galleryDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            <i class="fa-solid fa-photo-film me-1 text-danger"></i> Gallery
          </a>
          <ul class="dropdown-menu" aria-labelledby="galleryDropdown">
            <li>
              <a class="dropdown-item d-flex align-items-start" href="/gallery/photo">
                <i class="fa-solid fa-image text-warning me-2 mt-1"></i>
                <div>
                  <strong>Photo Gallery</strong><br>
                  <small class="text-muted">Beautiful moments captured</small>
                </div>
              </a>
            </li>
            <li>
              <a class="dropdown-item d-flex align-items-start" href="/gallery/video">
                <i class="fa-solid fa-video text-danger me-2 mt-1"></i>
                <div>
                  <strong>Video Gallery</strong><br>
                  <small class="text-muted">Watch our highlights</small>
                </div>
              </a>
            </li>
          </ul>
        </li>

        <!-- Contact Us -->
        <li class="nav-item">
          <a class="nav-link" href="/contact-us/">
            <i class="fa-solid fa-envelope me-1 text-info"></i> Contact Us
          </a>
        </li>

        <!-- Dil deƒüi≈üim (EN/BG) -->
        <li class="nav-item dropdown ms-3">
          <a class="nav-link dropdown-toggle fw-bold" href="#" id="langDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            üá¨üáß EN
          </a>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="langDropdown">
            <li>
              <a class="dropdown-item d-flex align-items-center" href="#" onclick="switchLanguage('en')">
                <span class="me-2">üá¨üáß</span> English
              </a>
            </li>
            <li>
              <a class="dropdown-item d-flex align-items-center" href="#" onclick="switchLanguage('bg')">
                <span class="me-2">üáßüá¨</span> –ë—ä–ª–≥–∞—Ä—Å–∫–∏
              </a>
            </li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
</nav>


<main>
  {% block content %}{% endblock content %}
</main>

<div class="page-footer-logo fade-in-logo">
  <img src="{% static 'images/logo.png' %}" alt="Site Logo">
</div>


<footer class="site-footer">
  <div class="container footer-top">
    <div class="row gy-4">
      
      <!-- Logo + Tanƒ±tƒ±m -->
      <div class="col-lg-4 col-md-6">
        <img src="{% static 'images/logo.png' %}" alt="Sofia Tribe Logo" class="footer-logo mb-3">
        <p class="footer-desc">
          Sofia Tribe connects locals, expats, and travelers through cultural events,
          social gatherings, and meaningful experiences in the heart of Sofia.
        </p>
        <!-- Sosyal medya -->
        <div class="footer-social mt-3">
          <a href="https://www.instagram.com/sofiatribe.bg/" target="_blank"><i class="fab fa-instagram"></i></a>
          <a href="https://www.facebook.com/profile.php?id=61569166691667" target="_blank"><i class="fab fa-facebook-f"></i></a>
          <a href="mailto:hello@sofiatribe.com"><i class="fas fa-envelope"></i></a>
        </div>
      </div>

      <!-- Quick Links -->
      <div class="col-lg-2 col-md-6">
        <h5>Quick Links</h5>
        <ul class="footer-links">
          <li>
            <a href="/">
              <i class="fa-solid fa-house me-2"></i> Home
            </a>
          </li>
          <li>
            <a href="/who-we-are/">
              <i class="fa-solid fa-users me-2"></i> Who We Are
            </a>
          </li>
          <li>
            <a href="/events/upcoming-events">
              <i class="fa-solid fa-calendar-alt me-2"></i> Upcoming Events
            </a>
          </li>
          <li>
            <a href="/gallery/photo">
              <i class="fa-solid fa-image me-2"></i> Photo Gallery
            </a>
          </li>
          <li>
            <a href="/contact-us/">
              <i class="fa-solid fa-envelope me-2"></i> Contact
            </a>
          </li>
        </ul>
      </div>


      <!-- Explore More -->
      <div class="col-lg-3 col-md-6">
        <h5>Explore More</h5>
        <ul class="footer-links">
          <li><i class="fa-solid fa-users text-highlight me-2"></i> Join Our Community</li>
          <li><i class="fa-solid fa-city text-highlight me-2"></i> Discover Sofia</li>
          <li><i class="fa-solid fa-heart text-highlight me-2"></i> Make New Friends</li>
        </ul>
      </div>

      <!-- Contact -->
      <div class="col-lg-3 col-md-6">
        <h5>Contact Us</h5>
        <ul class="footer-contact">
          <li><i class="fas fa-map-marker-alt me-2 text-highlight"></i> Sofia, Bulgaria</li>
          <li><i class="fas fa-envelope me-2 text-highlight"></i> hello@sofiatribe.com</li>
          <li><i class="fas fa-phone me-2 text-highlight"></i> +359 123 456 789</li>
        </ul>

        <!-- Dƒ∞L SE√áƒ∞Mƒ∞ BURAYA GELDƒ∞ -->
        <div class="footer-lang mt-2">
          <a href="#" onclick="switchLanguage('en')">EN</a> | 
          <a href="#" onclick="switchLanguage('bg')">BG</a>
        </div>
      </div>
    </div>
  </div>

  <!-- Alt Kƒ±sƒ±m sadece telif -->
  <div class="footer-bottom text-center">
    <div class="container">
      <p>¬© 2025 Sofia Tribe ‚Ä¢ All Rights Reserved.</p>
    </div>
  </div>
</footer>



<script src="https://cdn.jsdelivr.net/npm/glightbox/dist/js/glightbox.min.js"></script>
<script src="{% static 'js/bootstrap.bundle.min.js' %}"></script>
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script>
  AOS.init({ once: false, duration: 1200, offset: 100 });
</script>

<script>
  function openModal(imgElement) {
    const modal = document.getElementById("imageModal");
    const modalImg = document.getElementById("modalImg");
    modal.style.display = "block";
    modalImg.src = imgElement.src;
  }

  function closeModal() {
    document.getElementById("imageModal").style.display = "none";
  }
</script>

<script>
document.addEventListener('DOMContentLoaded', function () {
  function enableDesktopDropdowns() {
    if (window.innerWidth >= 992) { // sadece masa√ºst√ºnde
      document.querySelectorAll('.navbar .dropdown').forEach(function (dropdown) {

        dropdown.addEventListener('mouseenter', function () {
          let menu = dropdown.querySelector('.dropdown-menu');
          menu.classList.add('show');
          dropdown.querySelector('.dropdown-toggle').setAttribute('aria-expanded', 'true');
        });

        dropdown.addEventListener('mouseleave', function () {
          let menu = dropdown.querySelector('.dropdown-menu');
          menu.classList.remove('show');
          dropdown.querySelector('.dropdown-toggle').setAttribute('aria-expanded', 'false');
        });

        // ‚úÖ Click davranƒ±≈üƒ±nƒ± sadece masa√ºst√ºnde iptal et
        dropdown.querySelector('.dropdown-toggle').addEventListener('click', function (e) {
          if (window.innerWidth >= 992) { // sadece desktop i√ßin
            e.preventDefault();
            e.stopPropagation();
          }
        });
      });
    }
  }

  enableDesktopDropdowns();

  // Eƒüer kullanƒ±cƒ± ekran boyutunu deƒüi≈ütirirse yeniden kontrol et
  window.addEventListener('resize', function () {
    // t√ºm eventleri sƒ±fƒ±rlamak istersen √∂nce remove yapabilirsin
  });
});
</script>

<script>
document.addEventListener("DOMContentLoaded", function() {
  let lastScroll = 0;
  const navbar = document.querySelector(".navbar");

  window.addEventListener("scroll", function() {
    const currentScroll = window.pageYOffset;

    if (currentScroll <= 0) {
      // Sayfanƒ±n en √ºst√ºndeysek her zaman g√∂ster
      navbar.classList.remove("navbar-hidden");
      return;
    }

    if (currentScroll > lastScroll) {
      // A≈üaƒüƒ± kaydƒ±rƒ±yorsak gizle
      navbar.classList.add("navbar-hidden");
    } else {
      // Yukarƒ± kaydƒ±rƒ±yorsak g√∂ster
      navbar.classList.remove("navbar-hidden");
    }

    lastScroll = currentScroll;
  });
});
</script>

<script>
function switchLanguage(lang) {
  let currentUrl = window.location.pathname; // √∂rn: /bg/sabitia/minalisabitiap/

  // ‚úÖ Sona koyulmu≈ü slash'ƒ± kaldƒ±r (mapping e≈üle≈üsin)
  if (currentUrl !== "/" && currentUrl.endsWith("/")) {
    currentUrl = currentUrl.slice(0, -1);
  }

  console.log("Current URL:", currentUrl);

  const mapping = {
    "/": { bg: "/bg", en: "/" },
    "/who-we-are": { bg: "/bg/koismenie", en: "/who-we-are" },
    "/contact-us": { bg: "/bg/svurjetesesnas", en: "/contact-us" },
    "/events/upcoming-events": { bg: "/bg/sabitia/predstoiashtisabitiau", en: "/events/upcoming-events" },
    "/events/past-events": { bg: "/bg/sabitia/minalisabitiap", en: "/events/past-events" },
    "/gallery/photo": { bg: "/bg/galeria/foto", en: "/gallery/photo" },
    "/gallery/video": { bg: "/bg/galeria/galeria", en: "/gallery/video" },

    "/bg": { en: "/", bg: "/bg" },
    "/bg/koismenie": { en: "/who-we-are", bg: "/bg/koismenie" },
    "/bg/svurjetesesnas": { en: "/contact-us", bg: "/bg/svurjetesesnas" },
    "/bg/sabitia/predstoiashtisabitiau": { en: "/events/upcoming-events", bg: "/bg/sabitia/predstoiashtisabitiau" },
    "/bg/sabitia/minalisabitiap": { en: "/events/past-events", bg: "/bg/sabitia/minalisabitiap" },
    "/bg/galeria/foto": { en: "/gallery/photo", bg: "/bg/galeria/foto" },
    "/bg/galeria/galeria": { en: "/gallery/video", bg: "/bg/galeria/galeria" }
  };

  let target = mapping[currentUrl] ? mapping[currentUrl][lang] : null;

  if (!target) {
    // e≈üle≈üme bulamazsa default
    target = lang === "bg" ? "/bg" : "/";
  }

  console.log("Redirecting to:", target);
  window.location.href = target;
}
</script>




</body>
</html>
